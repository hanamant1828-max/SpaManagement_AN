{% extends "base.html" %}

{% block title %}Add Product - Professional Inventory{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2><i class="fas fa-plus-circle me-2"></i>Add New Product</h2>
        <a href="{{ url_for('professional_inventory') }}" class="btn btn-secondary">
            <i class="fas fa-arrow-left me-2"></i>Back to Inventory
        </a>
    </div>

    <div class="row">
        <div class="col-lg-8">
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Product Details</h5>
                </div>
                <div class="card-body">
                    <form method="POST" action="{{ url_for('add_inventory_product') }}">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="product_code" class="form-label">Product Code *</label>
                                    <input type="text" class="form-control" id="product_code" name="product_code" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="barcode" class="form-label">Barcode</label>
                                    <input type="text" class="form-control" id="barcode" name="barcode">
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="name" class="form-label">Product Name *</label>
                            <input type="text" class="form-control" id="name" name="name" required>
                        </div>

                        <div class="mb-3">
                            <label for="description" class="form-label">Description</label>
                            <textarea class="form-control" id="description" name="description" rows="3"></textarea>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="category_id" class="form-label">Category</label>
                                    <select class="form-select" id="category_id" name="category_id">
                                        <option value="">Select Category</option>
                                        {% for category in categories %}
                                        <option value="{{ category.category_id }}">{{ category.category_name }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="supplier_id" class="form-label">Supplier</label>
                                    <select class="form-select" id="supplier_id" name="supplier_id">
                                        <option value="">Select Supplier</option>
                                        {% for supplier in suppliers %}
                                        <option value="{{ supplier.supplier_id }}">{{ supplier.supplier_name }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="mb-3">
                                    <label for="unit" class="form-label">Unit</label>
                                    <select class="form-select" id="unit" name="unit">
                                        <option value="pcs">Pieces</option>
                                        <option value="kg">Kilogram</option>
                                        <option value="liter">Liter</option>
                                        <option value="gram">Gram</option>
                                        <option value="ml">Milliliter</option>
                                        <option value="box">Box</option>
                                        <option value="bottle">Bottle</option>
                                        <option value="tube">Tube</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="mb-3">
                                    <label for="unit_cost" class="form-label">Unit Cost</label>
                                    <input type="number" class="form-control" id="unit_cost" name="unit_cost" step="0.01" min="0" value="0">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="mb-3">
                                    <label for="selling_price" class="form-label">Selling Price</label>
                                    <input type="number" class="form-control" id="selling_price" name="selling_price" step="0.01" min="0" value="0">
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="mb-3">
                                    <label for="current_stock" class="form-label">Current Stock</label>
                                    <input type="number" class="form-control" id="current_stock" name="current_stock" step="0.01" min="0" value="0">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="mb-3">
                                    <label for="reorder_level" class="form-label">Reorder Level</label>
                                    <input type="number" class="form-control" id="reorder_level" name="reorder_level" min="0" value="0">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="mb-3">
                                    <label for="max_stock_level" class="form-label">Max Stock Level</label>
                                    <input type="number" class="form-control" id="max_stock_level" name="max_stock_level" min="0">
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="is_batch_tracked" name="is_batch_tracked">
                                    <label class="form-check-label" for="is_batch_tracked">
                                        Enable Batch Tracking
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="is_expiry_tracked" name="is_expiry_tracked">
                                    <label class="form-check-label" for="is_expiry_tracked">
                                        Enable Expiry Tracking
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex gap-2">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save me-2"></i>Add Product
                            </button>
                            <a href="{{ url_for('professional_inventory') }}" class="btn btn-secondary">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-lg-4">
            <div class="card">
                <div class="card-header">
                    <h6 class="mb-0">Quick Add Categories</h6>
                </div>
                <div class="card-body">
                    <form method="POST" action="{{ url_for('add_inventory_category') }}" class="mb-3">
                        <div class="mb-2">
                            <input type="text" class="form-control" name="category_name" placeholder="Category Name" required>
                        </div>
                        <div class="mb-2">
                            <input type="text" class="form-control" name="description" placeholder="Description">
                        </div>
                        <button type="submit" class="btn btn-sm btn-success w-100">Add Category</button>
                    </form>
                </div>
            </div>

            <div class="card mt-3">
                <div class="card-header">
                    <h6 class="mb-0">Quick Add Supplier</h6>
                </div>
                <div class="card-body">
                    <form method="POST" action="{{ url_for('add_inventory_supplier') }}">
                        <div class="mb-2">
                            <input type="text" class="form-control" name="supplier_name" placeholder="Supplier Name" required>
                        </div>
                        <div class="mb-2">
                            <input type="text" class="form-control" name="supplier_code" placeholder="Supplier Code">
                        </div>
                        <div class="mb-2">
                            <input type="text" class="form-control" name="contact_person" placeholder="Contact Person">
                        </div>
                        <div class="mb-2">
                            <input type="text" class="form-control" name="phone" placeholder="Phone">
                        </div>
                        <button type="submit" class="btn btn-sm btn-success w-100">Add Supplier</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}