
<!-- Add Student Offer Modal -->
<div class="modal fade" id="addStudentOfferModal" tabindex="-1" data-bs-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title">
                    <i class="fas fa-graduation-cap me-2"></i>Add Student Offer
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="addStudentOfferForm">
                    <div class="row g-3">
                        <!-- Service Selection -->
                        <div class="col-12">
                            <label class="form-label fw-bold">Select Services *</label>
                            <div class="card">
                                <div class="card-body" style="max-height: 200px; overflow-y: auto;">
                                    <select multiple class="form-select" id="serviceIds" name="service_ids" required style="height: 150px;">
                                        <!-- Services will be loaded here -->
                                    </select>
                                </div>
                            </div>
                            <div class="form-text">Hold Ctrl/Cmd to select multiple services</div>
                        </div>

                        <!-- Discount Percentage -->
                        <div class="col-md-6">
                            <label for="discountPercentage" class="form-label">Discount Percentage *</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="discountPercentage" name="discount_percentage" required min="1" max="100" step="0.1">
                                <span class="input-group-text">%</span>
                            </div>
                        </div>

                        <!-- Valid Days -->
                        <div class="col-md-6">
                            <label for="validDays" class="form-label">Valid Days</label>
                            <select class="form-select" id="validDays" name="valid_days">
                                <option value="Mon-Fri">Monday to Friday</option>
                                <option value="Mon-Sat">Monday to Saturday</option>
                                <option value="All Days">All Days</option>
                                <option value="Weekends">Weekends Only</option>
                                <option value="Custom">Custom</option>
                            </select>
                        </div>

                        <!-- Custom Valid Days (hidden initially) -->
                        <div class="col-12" id="customValidDaysDiv" style="display: none;">
                            <label for="customValidDays" class="form-label">Custom Valid Days</label>
                            <input type="text" class="form-control" id="customValidDays" name="custom_valid_days" placeholder="e.g., Mon,Wed,Fri or describe custom schedule">
                        </div>

                        <!-- Date Range -->
                        <div class="col-md-6">
                            <label for="validFrom" class="form-label">Valid From *</label>
                            <input type="date" class="form-control" id="validFrom" name="valid_from" required>
                        </div>

                        <div class="col-md-6">
                            <label for="validTo" class="form-label">Valid Until *</label>
                            <input type="date" class="form-control" id="validTo" name="valid_to" required>
                        </div>

                        <!-- Conditions -->
                        <div class="col-12">
                            <label for="conditions" class="form-label">Terms & Conditions</label>
                            <textarea class="form-control" id="conditions" name="conditions" rows="3" placeholder="Enter terms and conditions for this student offer"></textarea>
                            <div class="form-text">Terms and conditions for this student offer</div>
                        </div>

                        <!-- Preview Section -->
                        <div class="col-12">
                            <div class="card bg-light">
                                <div class="card-body">
                                    <h6 class="mb-3">Offer Preview:</h6>
                                    <div id="studentOfferPreview">
                                        <p class="text-muted">Select services and discount to see preview</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="saveStudentOfferBtn" disabled>
                    <i class="fas fa-save me-2"></i>Save Student Offer
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Edit Student Offer Modal -->
<div class="modal fade" id="editStudentOfferModal" tabindex="-1" data-bs-backdrop="static">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-warning text-dark">
                <h5 class="modal-title">
                    <i class="fas fa-edit me-2"></i>Edit Student Offer
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="editStudentOfferForm">
                    <input type="hidden" id="editOfferId" name="offer_id">
                    <div class="row g-3">
                        <!-- Services Selection -->
                        <div class="col-12">
                            <label for="editStudentOfferServices" class="form-label">Select Services *</label>
                            <select multiple class="form-select" id="editStudentOfferServices" name="service_ids" required style="height: 120px;">
                                <!-- Services will be loaded here -->
                            </select>
                            <div class="form-text">Hold Ctrl/Cmd to select multiple services</div>
                        </div>

                        <!-- Discount Percentage -->
                        <div class="col-md-6">
                            <label for="editStudentDiscountPercentage" class="form-label">Discount Percentage *</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="editStudentDiscountPercentage" name="discount_percentage" required min="1" max="100" step="0.1">
                                <span class="input-group-text">%</span>
                            </div>
                        </div>

                        <!-- Valid Days -->
                        <div class="col-md-6">
                            <label for="editStudentValidDays" class="form-label">Valid Days</label>
                            <select class="form-select" id="editStudentValidDays" name="valid_days">
                                <option value="Mon-Fri">Monday to Friday</option>
                                <option value="Mon-Sat">Monday to Saturday</option>
                                <option value="All Days">All Days</option>
                                <option value="Weekends">Weekends Only</option>
                                <option value="Custom">Custom</option>
                            </select>
                        </div>

                        <!-- Custom Valid Days (hidden initially) -->
                        <div class="col-12" id="editCustomValidDaysDiv" style="display: none;">
                            <label for="editCustomValidDays" class="form-label">Custom Valid Days</label>
                            <input type="text" class="form-control" id="editCustomValidDays" name="custom_valid_days" placeholder="e.g., Mon,Wed,Fri">
                        </div>

                        <!-- Date Range -->
                        <div class="col-md-6">
                            <label for="editStudentValidFrom" class="form-label">Valid From *</label>
                            <input type="date" class="form-control" id="editStudentValidFrom" name="valid_from" required>
                        </div>

                        <div class="col-md-6">
                            <label for="editStudentValidTo" class="form-label">Valid Until *</label>
                            <input type="date" class="form-control" id="editStudentValidTo" name="valid_to" required>
                        </div>

                        <!-- Conditions -->
                        <div class="col-12">
                            <label for="editStudentConditions" class="form-label">Terms & Conditions</label>
                            <textarea class="form-control" id="editStudentConditions" name="conditions" rows="3"></textarea>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-warning" id="updateStudentOffer">
                    <i class="fas fa-save me-2"></i>Update Student Offer
                </button>
            </div>
        </div>
    </div>
</div>
