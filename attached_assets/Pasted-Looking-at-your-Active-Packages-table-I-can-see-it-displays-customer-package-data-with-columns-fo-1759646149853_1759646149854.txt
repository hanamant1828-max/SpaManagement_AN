Looking at your "Active Packages" table, I can see it displays customer package data with columns for Package Name, Type, Status, Balance/Services, and Expiry.

Based on the codebase analysis, here's how the data flows:

Backend API Method
Route: /integrated-billing/customer-packages/<int:customer_id>
File: modules/billing/integrated_billing_views.py
Function: get_customer_packages(customer_id)

Key Logic:

@app.route('/integrated-billing/customer-packages/<int:customer_id>', methods=['GET'])
@login_required
def get_customer_packages(customer_id):
    # Queries PackageBenefitTracker for active benefits
    benefit_trackers = PackageBenefitTracker.query.filter_by(
        customer_id=customer_id,
        is_active=True
    ).all()
    
    # For each tracker, builds package info dict:
    package_info = {
        'assignment_id': assignment.id,
        'package_type': assignment.package_type,
        'name': package_name,  # Falls back through multiple name fields
        'benefit_type': tracker.benefit_type,
        'service_name': service_name,
        'expires_on': tracker.valid_to
    }
    
    # Adds type-specific fields:
    # - For 'free'/'discount': total_allocated, used_count, remaining_count
    # - For 'prepaid': balance_total, balance_used, balance_remaining
    # - For 'unlimited': access_type
    
    return jsonify({'success': True, 'packages': packages_list})
Frontend JavaScript Method
File: templates/integrated_billing.html
Function: loadCustomerPackages(customerId)

Key Logic:

function loadCustomerPackages(customerId) {
    // Fetch packages only
    fetch(`/integrated-billing/customer-packages/${customerId}`)
        .then(res => res.json())
        .then(packagesData => {
            BillingState.customerPackages = packagesData;
            updateCalculations();  // Checks for package benefits during billing
        })
        .catch(err => {
            console.error('Error loading packages:', err);
        });
}
Display Function: displayCustomerPackagesTable(packages)

This function renders the HTML table you see in the screenshot:

function displayCustomerPackagesTable(packages) {
    // Builds HTML table with:
    // - Package name (from pkg.name with multiple fallbacks)
    // - Type badge (Service/Prepaid/Membership)
    // - Status badge (Active/Expired/Completed)
    // - Balance/Services:
    //   * Service packages: "X / Y sessions" + progress bar
    //   * Prepaid: "₹X.XX / ₹Y.YY" + progress bar  
    //   * Membership: "Unlimited" badge
    // - Expiry date (formatted as "Mon DD, YYYY")
}
Data Flow Summary
User selects customer → client_id dropdown change event
Frontend calls: loadCustomerPackages(customer_id)
API endpoint: GET /integrated-billing/customer-packages/{customer_id}
Backend queries: PackageBenefitTracker → joins with ServicePackageAssignment → gets package template
Backend returns: JSON with package details (name, type, balance, expiry)
Frontend displays: displayCustomerPackagesTable(packages) renders the HTML table
The "Unknown Package" names in your screenshot indicate the package name is missing in the database - the system is using a fallback naming mechanism when package_name, name, or template name fields are null.